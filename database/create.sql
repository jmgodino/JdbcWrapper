drop table libros;
DROP PROCEDURE EJEMPLOPA;

DROP FUNCTION EJEMPLOPAFUNC;

create table libros (
ISBN BIGINT PRIMARY KEY,
TITULO VARCHAR(500),
FECHA DATE,
TEXTO CLOB,
PRECIO DECIMAL(7,2),
EJEMPLARES INT
);

INSERT INTO LIBROS (ISBN, TITULO, FECHA, PRECIO, EJEMPLARES, TEXTO) VALUES (1,'El se√±or de los anillos', CURRENT_DATE, 12.34, 22, 'Texto muuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuy largo');
INSERT INTO LIBROS (ISBN, TITULO, FECHA, PRECIO, EJEMPLARES, TEXTO) VALUES (2,'El Hobbit', CURRENT_DATE, 45.67, 13, 'Texto corto');

COMMIT;

CREATE PROCEDURE EJEMPLOPA (IN ISBN INT, OUT TITULO VARCHAR(500)) LANGUAGE JAVA PARAMETER STYLE JAVA EXTERNAL NAME 'com.picoto.jdbc.wrapper.test.Libro.getNuevoLibro';

CREATE FUNCTION EJEMPLOPAFUNC (ISBN INT) RETURNS VARCHAR(500) LANGUAGE JAVA PARAMETER STYLE JAVA EXTERNAL NAME 'com.picoto.jdbc.wrapper.test.Libro.getNuevoLibroFuncion';
